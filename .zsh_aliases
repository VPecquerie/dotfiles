#!/bin/zsh

# Set editor preference to nvim if available.
if which nvim &>/dev/null; then
	alias vim='() { $(whence -p nvim) $@ }'
else
	alias vim='() { $(whence -p vim) $@ }'
fi

# Generic command adaptations.
alias grep='() { $(whence -p grep) --color=auto $@ }'
alias egrep='() { $(whence -p egrep) --color=auto $@ }'

# Directory management
alias ls='colorls'
alias la='ls -a'
alias ll='ls -lta'
alias d='dirs -v'
alias 1='pu'
alias 2='pu -2'
alias 3='pu -3'
alias 4='pu -4'
alias 5='pu -5'
alias 6='pu -6'
alias 7='pu -7'
alias 8='pu -8'
alias 9='pu -9'
alias pu='() { pushd $1 &> /dev/null; dirs -v; }'
alias po='() { popd &> /dev/null; dirs -v; }'

# always use the interactive mode (borring but it can save our life...)
alias mv='mv -i'
alias ln='ln -i'

# always use color :
alias grep='grep --color=auto'
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'

# update on one command
alias update='sudo apt-get update && sudo apt-get upgrade'
if [ $UID -ne 0 ]; then ## If you are not root...
  alias apt='sudo apt'
  alias apt-get='sudo apt-get'
  alias reboot='sudo reboot'
  alias update='sudo apt-get upgrade'
fi
alias yay="yay --noconfirm"

# System tools
alias ifconfig='sudo ifconfig'
alias iftop='sudo iftop -i eth0'
alias iotop='sudo iotop'
alias htop='sudo htop'
alias iptables='sudo iptables'

## Get system info ##
alias meminfo='free -m -l -t'
alias psmem='ps auxf | sort -nr -k 4'
alias psmem10='ps auxf | sort -nr -k 4 | head -10'
alias gpumeminfo='grep -i --color memory /var/log/Xorg.0.log'
alias pscpu='ps auxf | sort -nr -k 3'
alias pscpu10='ps auxf | sort -nr -k 3 | head -10'
alias cpuinfo='lscpu'
alias ports='netstat -tulanp'
alias ping='ping -c 5'
alias fastping='ping -c 100 -s.2'

## Editors
alias vi='vim'
alias svi='sudo vi'
alias svim='sudo vim'
alias vis='vim "+set si"'
alias edit='vim'
alias snano='sudo nano'

## Always use the most used flags :
alias bc='bc -l'
alias df='df -H'
alias du='du -ch'

## Path and time manipulation
alias path='echo -e ${PATH//:/\\n}'
alias now='date +"%T"'
alias nowtime=now
alias nowdate='date +"%d-%m-%Y"'

## Others aliases
alias service="sudo service"
alias systemctl="sudo systemctl"
alias tranquille='fuck'
alias reset="source ~/.zshrc"
alias reload="reset"
alias docekr="docker"
alias doker="docker"
alias cp="rsync -ah --progress"
